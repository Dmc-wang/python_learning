函数（重点）详解
1. 函数的定义：def
(1)What（是什么）
    def 是定义函数的关键字，用于创建一段可复用的、有名字的代码块。函数将一系列操作封装成一个逻辑单元，
接收输入（参数）、执行特定任务、返回输出（值或无）。
(2)Why（为什么）
    代码复用：避免重复编写相同逻辑，改一次处处生效
    逻辑分层：将复杂程序拆分为小单元，降低认知负荷
    命名抽象：用函数名表达意图，提升代码自解释性
    测试隔离：函数是单元测试的最小颗粒，可独立验证正确性
(3)How（怎么用）
    命名规范：小写字母+下划线，动词开头（如 calculate_total、send_email）
    单一职责：函数应只做一件事，长度控制在屏幕可内（通常20行内）
    先定义后调用：函数代码必须在调用前出现，否则会报错
    文档字符串：在函数内首行用三引号描述功能、参数、返回值，生成帮助文档

2. 位置参数、默认参数
(1)What（是什么）
    位置参数：调用时按定义顺序传递的值，无默认值，必须提供
    默认参数：定义时赋予默认值的参数，调用时可省略，使用预设值
(2)Why（为什么）
    位置参数：强制核心输入，确保函数调用完整性，避免遗漏关键数据
    默认参数：向后兼容，新增功能不破坏旧代码；简化常见调用，减少冗余传参。例如日志函数的 level 参数默认为 INFO，特殊场景才传 DEBUG
(3)How（怎么用）
    位置参数在前，默认参数在后：定义顺序不可逆，否则语法错误
    默认值必须是不可变对象：使用 None 或常量，避免使用列表/字典作为默认值（会导致意外共享）
    调用时可用关键字传参：跳过位置限制，明确指定参数名，提升可读性
    默认参数设计原则：选择"最常见"的值作为默认，非常规值才显式传入

3. 可变参数：*args / **kwargs
(1)What（是什么）
    *args：接收任意数量的位置参数，打包成一个元组
    **kwargs  ：接收任意数量的关键字参数，打包成一个字典
(2)Why（为什么）
    函数接口弹性：不确定调用者会传多少参数时（如装饰器、日志封装），保持接口开放
    参数转发：在包装函数（wrapper）中，将接收到的所有参数原封不动传递给被包装函数
    API 兼容性：函数升级时新增参数不影响旧调用，*args, **kwargs 兜底捕获多余参数
(3)How（怎么用）
    *args 必须位于位置参数之后：调用时多余的位置参数全被它接收
    **kwargs 必须位于默认参数之后  ：多余的关键字参数全被它接收
    顺序不可变：参数列表顺序必须是 位置参数 → 默认参数 → *args → **kwargs
    解包传参：调用函数时，在列表/元组前加 *、在字典前加 **，可将容器元素拆散作为独立参数传递

4. 返回 return 的使用时机
(1)What（是什么）
    return 是函数向调用者交回结果的语句，同时终止函数执行。未显式写 return 的函数默认返回 None。
(2)Why（为什么）
    数据交换：函数是加工厂，return 是产出物，否则调用者拿不到处理结果
    流程控制：提前 return 可跳出多层逻辑，避免深层嵌套的 if-else
    表达计算结果：纯函数（无副作用）通过返回值传递计算结果，利于测试和组合
(3)How（怎么用）
    何时返回：函数计算完成或有明确结果时返回；输入不合法时提前返回或抛出异常
    返回什么：返回计算结果、状态布尔值（成功/失败）、复杂对象（列表、字典）
    何时不返回：函数仅执行动作（如打印日志、修改全局状态）时无需返回值
    单出口 vs 多返回：小函数可用多个 return 提前退出；大型函数建议单 return 保持结构清晰
5. 函数作用域
(1)What（是什么）
    函数作用域指变量的可见范围。在函数内部定义的变量（局部变量）仅在函数内有效，外部无法访问。
函数可访问外部变量（全局变量），但默认不能修改（除非声明 global）。
(2)Why（为什么）
    隔离性：防止函数内部临时变量污染全局命名空间，避免命名冲突
    模块化：每个函数是独立沙盒，内部实现对外部透明，降低耦合
    生命周期管理：局部变量在函数调用时创建，结束时销毁（垃圾回收），节省内存
    数据保护：外部无法直接篡改函数内部状态，必须通过参数和返回值交互
(3)How（怎么用）
    优先使用局部变量：函数内数据不要定义在全局，保持封装
    避免使用 global：global 破坏封装性，使函数依赖外部状态，难以测试和复用
    闭包作用域：嵌套函数中，内层函数可读取外层函数的局部变量，但无法修改（除非用 nonlocal 声明）
    作用域查找顺序：LEGB 规则（Local → Enclosing → Global → Built-in）

6. lambda 表达式（单行函数）
(1)What（是什么）
    lambda 是匿名函数，用单行表达式快速定义简单函数，无需 def 和函数名。语法为 lambda 参数列表:
 表达式，返回值是表达式的计算结果。
(2)Why（为什么）
    简洁性：简单操作（如排序键函数、临时回调）无需正形定义，减少代码量
    即用即弃：只在调用处使用一次，无需命名和复用，避免命名空间污染
    函数式编程：配合 map(), filter(), sorted() 等高阶函数，实现链式调用和声明式编程
(3)How（怎么用）
    适用场景：函数体只有一行、逻辑极简单、无需复用的场景
    不使用场景：复杂逻辑、需多行代码、需要文档说明的函数，应使用 def 定义
    作用域限制：lambda 函数内只能写表达式，不能包含语句（如赋值、if 块、for 循环）
    可读性权衡：过度使用 lambda 会降低代码可读性，团队开发中应适度使用，优先保证清晰语义